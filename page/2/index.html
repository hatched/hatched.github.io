<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <title>From An Egg</title>
  
  <link rel="icon" type="image/png" href="/img/me.png">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#cc181e">
  <meta name="generator" content="Hugo 0.17" />
  <link rel="canonical" href="https://fromanegg.com/"/>
  <link rel="stylesheet" href="/css/normalize-min.css">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/manni.css">
  <link href="https://fromanegg.com/index.xml" rel="alternate" type="application/rss+xml" title="From An Egg" />
</head>
<div class="top-bar"></div>

<body>
  <nav>
  <img src="/images/me.png"></img>
  <h1>Jeff Pihach</h1>
  <label for="menu-toggle" class="icon-menu">Menu</label>
  <input type="checkbox" id="menu-toggle"/>
  <div class="nav-wrapper">
    <ul>
      <li class=" active "><a href="/" class="icon-home">Home</a></li>
      <li class=""><a href="/about" class="icon-help">About</a></li>
      <li class=""><a href="/posts" class="icon-box">Posts</a></li>
      <li class=""><a href="/projects" class="icon-cubes">Projects</a></li>
      <li class="">
        <label for="tags-toggle">
          <span class="icon-tag">Tags</span>
          <span class="icon-down-dir arrow"></span>
        </label>
        <input type="checkbox" id="tags-toggle"/>
        <ul class="tag-list">
          
          
            <li><a href="/tags/android">android (1)</a></li>
          
            <li><a href="/tags/book-review">book-review (1)</a></li>
          
            <li><a href="/tags/cordova">cordova (2)</a></li>
          
            <li><a href="/tags/css">css (6)</a></li>
          
            <li><a href="/tags/development">development (7)</a></li>
          
            <li><a href="/tags/go">go (1)</a></li>
          
            <li><a href="/tags/hatched-links">hatched-links (5)</a></li>
          
            <li><a href="/tags/javascript">javascript (16)</a></li>
          
            <li><a href="/tags/juju">juju (17)</a></li>
          
            <li><a href="/tags/juju-gui">juju-gui (11)</a></li>
          
            <li><a href="/tags/linux">linux (1)</a></li>
          
            <li><a href="/tags/node.js">node.js (1)</a></li>
          
            <li><a href="/tags/ops">ops (2)</a></li>
          
            <li><a href="/tags/osx">osx (1)</a></li>
          
            <li><a href="/tags/phonegap">phonegap (2)</a></li>
          
            <li><a href="/tags/testing">testing (1)</a></li>
          
            <li><a href="/tags/ubuntu">ubuntu (2)</a></li>
          
            <li><a href="/tags/video">video (2)</a></li>
          
            <li><a href="/tags/yui">yui (11)</a></li>
          
        </ul>
      </li>
      <li><a href="/rss" class="icon-rss">RSS</a></li>
    </ul>
    <hr></hr>
    <h3>Social</h3>
    <ul class="social-list">
      <li><a href="https://github.com/hatched" class="icon-github" target="_blank">GitHub</a></li>
      <li><a href="https://twitter.com/fromanegg" class="icon-twitter" target="_blank">Twitter</a></li>
      <li><a href="https://www.youtube.com/channel/UCq2MDZ8IWAV0Jyp6FuwoJXA" class="icon-youtube-play" target="_blank">YouTube</a></li>
      <li><a href="https://plus.google.com/+JeffPihach" class="icon-google" target="_blank">Google</a></li>
      <li><a href="http://stackexchange.com/users/3378894" class="icon-stackoverflow" target="_blank">StackExchange</a></li>
    </ul>
  </div>
</nav>

  
    <section class="article-list">
  <article>
    <header>
      <h1><a href="https://fromanegg.com/post/2014/12/05/how-to-rewrite-and-redirect-with-haproxy">How to rewrite and redirect with HAProxy</a></h1>
      
        <time datetime="2014-12-05 12:52:00 -0600 CST">5 December 2014</time>
      
    </header>
    <p>It’s common when moving from one version of your application to another that you will want to maintain all of the SEO cred you have built up while simultaneously moving to a new url syntax. To do this people usually reach for mod_rewrite with apache or nginx for which there is quite a bit of documentation on this topic. Unfortunately the same can’t be said for rewriting and 301 redirecting when using HAProxy.</p>

<p>I have a rather common use case. I plan on moving this blog from Tumblr to <a href="https://ghost.org/">Ghost</a> using the <a href="https://jujucharms.com/ghost/">Ghost Juju charm</a> and the <a href="https://jujucharms.com/haproxy/">HAProxy charm</a> to handle load balancing, reverse proxy and rewriting and redirecting the old Tumblr style urls to the Ghost url format.</p>

<p>Using mod_rewrite you would likely write something similar to the following to handle rewriting the url to the new syntax and redirecting with a 301 response code:</p>

<pre><code>RewriteEngine On  
RewriteRule ^/post/\d+/(.+)/? http://example.com/$1  [R=301,L]
</code></pre>

<p>HAProxy however doesn’t have a single rule for rewrite and redirect instead we have to combine <a href="http://cbonte.github.io/haproxy-dconv/configuration-1.4.html#4-reqrep">reqrep</a>, to rewrite the url, and <a href="http://cbonte.github.io/haproxy-dconv/configuration-1.4.html#4-redirect">redirect</a>, to handle the actual redirection.</p>

<p>Assume the following front and backend configurations:</p>

<pre><code>frontend haproxy-0-80
    bind 0.0.0.0:80
    default_backend haproxy_service

backend haproxy_service
    balance leastconn
    cookie SRVNAME insert
    server ghost-0-2368 10.0.3.220:2368 maxconn 100 cookie S0 check
</code></pre>

<p>In order to rewrite the url we first need to add the rewrite into the frontend:</p>

<pre><code>frontend haproxy-0-80
    bind 0.0.0.0:80
    default_backend haproxy_service
    reqrep ^([^\ :]*)\ /post/\d+/(.+)/?     \1\ /\2
</code></pre>

<p>This will rewrite the old Tumblr style url format to the new Ghost style url format and pass that url off to the Ghost webserver. If you’re ok with the user still seeing and using the old url style then you can stop here. Both the real Ghost url format and the old Tumblr style url format will work. If however you want to tell the users and any search engines that the old url is no longer valid and to use a new one instead we need to add the redirect rule:</p>

<pre><code>frontend haproxy-0-80
    bind 0.0.0.0:80
    default_backend haproxy_service
    reqrep ^([^\ :]*)\ /post/\d+/(.+)/?     \1\ /\2
    redirect prefix / code 301
</code></pre>

<p>The HAProxy redirect syntax requires us to specify what kind of redirect we want to occur. The options are ‘location’, &lsquo;prefix’, and &lsquo;scheme’ none of these truly fit redirecting an old to new url. Fortunately we can trick HAProxy into doing just what we want by telling it we want to redirect to change the prefix of the url and passing / as the url to prefix along with the code we want to send, 301.</p>

<p>We aren’t quite done. If we leave this as is it will redirect every rule, including the Ghost url formatted ones which will put it into a redirect loop. In order to fix this we need to create an <a href="http://cbonte.github.io/haproxy-dconv/configuration-1.4.html#7">access control list</a> to only redirect the old urls:</p>

<pre><code>frontend haproxy-0-80
    bind 0.0.0.0:80
    default_backend haproxy_service
    acl old_url path_beg /post
    reqrep ^([^\ :]*)\ /post/\d+/(.+)/?     \1\ /\2
    redirect prefix / code 301 if old_url
</code></pre>

<p>To the frontend we added a new acl rule called “old_url” which returns true if the path begins with /post. We then add the conditional &lsquo;if old_url&rdquo; to the redirect rule and we’re done. After restarting the HAProxy service you’ll be able to use the old url structure and be 301 redirected to the new Ghost syntax urls which also remain functional.</p>

<p>In trying to resolve this issue I spent many hours reading the HAProxy documentation, reading blog posts and testing. I Even created a <a href="http://serverfault.com/questions/652428/redirect-rewritten-url-using-haproxy">serverfault question</a> which I have now updated with the solution so I hope that this post will save others a bunch of time. As always if you have any questions or comments please comment below or mention me on Twitter <a href="https://twitter.com/fromanegg">@fromanegg</a>.</p>

  </article>
</section>

  
    <section class="article-list">
  <article>
    <header>
      <h1><a href="https://fromanegg.com/post/2014/09/08/juju---explain-it-to-me-like-im-5">Juju - Explain it to me like I’m 5</a></h1>
      
        <time datetime="2014-09-08 23:10:00 -0600 CST">8 September 2014</time>
      
    </header>
    <p><a href="https://jujucharms.com">Juju</a> is brilliant. Ok I am a little biased being that I work at Canonical on the Juju project, but every week I’m more and more impressed with how awesome Juju is and how easy it makes developing software and working in the cloud. I tweet and post a bunch about Juju but today I was asked to explain what Juju is to someone like they are 5.</p>

<p><blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="und" dir="ltr"><a href="https://twitter.com/FromAnEgg">@FromAnEgg</a> ELI5 Juju..</p>&mdash; Mark Poppen (@MarkPoppen) <a href="https://twitter.com/MarkPoppen/status/509113565702127616">September 8, 2014</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>Juju is often described as <a href="https://help.ubuntu.com/12.04/serverguide/apt-get.html">apt-get</a> for the cloud, but what does someone who isn’t familiar with the Ubuntu ecosystem know about apt-get? I think I’ll need to go even more abstract…</p>

<p>Let’s say that you had built the most awesome Lego race car body (kids still play with Lego right?) but you didn’t know how to make the wheels or make it move with one of those Mindstorm engines. So now you have to go and play around for a long time to learn how to make a wheel and how to hook up engines. But this is going to take a long time and your mom is going to call you for supper soon, there has to be someone who is an expert wheel maker and Mindstorm engine builder right? Wouldn’t it be awesome if they could build wheels and engines you could use in your race car so you can finish it before supper?</p>

<p>Well that is what Juju does. It allows people who have expertise in a specific field to build packages that you can connect to your own projects without needing to be an expert in that field. So how does this help you write software faster in the cloud? Well I think that’s best explained with another, more grown up, example.</p>

<p>Recently, I wrote a Juju Charm for the <a href="https://github.com/hatched/ghost-charm">Ghost blogging platform</a> so that I can move this blog off of Tumblr and onto something a little more customize-able. The problem? I needed a front end server which was capable of load balancing the webservers when the load picks up and I don’t have the time to learn all about the various options and the best way to install and configure them. So I went to what’s known as the <a href="https://jujucharms.com">Juju Charm Browser</a> and picked the <a href="https://jujucharms.com/haproxy/">haproxy Charm</a> and added it into my environment. With multiple web servers I could no longer rely on Ghost’s built in SQLite implementation so I needed to hook up to an external MySQL database. Back to the Charm Browser I went and grabbed the <a href="https://jujucharms.com/mysql/">MySQL Charm</a>.</p>

<p><img src="/images/juju-explain-it-to-me-like-Im-5-1.png" alt="" /></p>

<p>So now I have a load-balanced horizontally scale-able Ghost blog (coming soon). You can have one too, it’s incredibly easy too. For you to get your very own horizontally scale-able load-balanced Ghost blog all you have to do is execute these commands:</p>

<pre><code>juju deploy ghost
juju deploy haproxy
juju deploy mysql
juju add-relation ghost haproxy
juju add-relation ghost mysql
</code></pre>

<p>Lets pretend for a moment that haproxy isn’t cutting it any longer and you instead want to use apache2:</p>

<pre><code>juju destroy-service haproxy
juju deploy apache2
juju add-relation ghost apache2
</code></pre>

<p>Maybe your blog is super popular and you need another 5 webservers:</p>

<pre><code>juju add-unit ghost -n 5
</code></pre>

<p>That’s it. You have now taken advantage of many peoples domain expertise to develop a cloud environment for your own blog.</p>

<p>So what if you wanted to use MySQL or any of these other Charms for a different application? That’s the best part these charms are written using the best practices for the particular charm but have easy to interface with hooks. To enable the Ghost charm to communicate with the haproxy charm all I had to write was:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="ch">#!/usr/bin/node</span>
<span class="kd">var</span> <span class="nx">exec</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;child_process&#39;</span><span class="p">).</span><span class="nx">exec</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">port</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">storePort</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">returnedPort</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">port</span> <span class="o">=</span> <span class="nx">returnedPort</span><span class="p">;</span>
  <span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;unit-get --format=json private-address&#39;</span><span class="p">,</span> <span class="nx">storeAddress</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">storeAddress</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">returnedAddress</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">address</span> <span class="o">=</span> <span class="nx">returnedAddress</span>
  <span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;relation-set port=&#39;</span> <span class="o">+</span> <span class="nx">port</span> <span class="o">+</span> <span class="s1">&#39; hostname=&#39;</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;config-get --format=json port&#39;</span><span class="p">,</span> <span class="nx">storePort</span><span class="p">);</span>
</code></pre></div>

<p><a href="https://jujucharms.com">Juju charms</a> can be written in anything that can be executed. The Ghost charm was written in JavaScript, the MySQL one in bash. Others use Python, Puppet, Chef, Ansible, even Docker containers can be orchestrated using a Juju Charm.</p>

<p>Want to run your own wiki:</p>

<pre><code>juju deploy mediawiki
juju deploy mysql
juju deploy haproxy
juju add-relation mediawiki mysql
juju add-relation mediawiki haproxy
</code></pre>

<p>How about a <a href="https://jujucharms.com/mongodb-cluster/">MongoDB cluster</a>, <a href="https://jujucharms.com/q/hadoop-cluster?type=bundle">Hadoop cluster</a>, <a href="https://jujucharms.com/django/">Django app</a>, a <a href="https://jujucharms.com/bundle/transcode/7/cloud/">video transcoding cluster</a>, and more including your own applications. All easily deployable and scalable across public clouds like EC2, HP Cloud, Joyent, Your private OpenStack cloud, and even your very own local machine. That’s right, the above commands all work to deploy identical set ups to all of these targets and more.</p>

<p>This just scratched the surface of the power of <a href="https://jujucharms.com">Juju</a> but I hope that this glimpse has made you interested enough to go do some exploring of your own. You can find the documentation to get started with <a href="https://jujucharms.com">Juju here</a>. And as always if you have any questions or comments you can comment below, find me on Twitter <a href="https://twitter.com/fromanegg">@fromanegg</a> on G+ <a href="https://plus.google.com/+JeffPihach">+Jeff Pihach</a> or hop into #juju on irc.freenode.net and ask away.</p>

  </article>
</section>

  
    <section class="article-list">
  <article>
    <header>
      <h1><a href="https://fromanegg.com/post/2014/06/17/new-release-juju-gui-1-1-0">New Release - Juju GUI 1.1.0</a></h1>
      
        <time datetime="2014-06-17 13:23:00 -0600 CST">17 June 2014</time>
      
    </header>
    <p>Last week we released a new version of the Juju GUI which brings with it one major UI change plus a huge refactoring of the application state system.</p>

<p><img src="/images/new-release-juju-gui-1-1-0-1.png" alt="" /></p>

<ul>
<li>We moved the inspectors default rendering position to the left over top of the charm browser to give you more room to work with your active environment.</li>
<li>A new <a href="http://fromanegg.com/post/85890866087/unidirectional-data-flow-architecture">uni-directional data flow</a> system was implemented which dramatically simplified the GUI’s data flow and execution.</li>
<li>Charm searching has been improved in the charm browser and will continue to be improved over time.</li>
<li>Work for the new machine view continues under the ‘mv’ flag. To check out this work load up the GUI with ’<hostname>:flags:/mv’.</li>
<li>Plus many many fixes. See the <a href="https://github.com/juju/juju-gui">repository</a> for more information.</li>
</ul>

<p>If you have any questions about Juju or the Juju GUI, you can read the <a href="https://jujucharms.com">official documentation</a> for Juju and join us on freenode.net in #juju and #juju-gui</p>

  </article>
</section>

  
    <section class="article-list">
  <article>
    <header>
      <h1><a href="https://fromanegg.com/post/2014/05/15/unidirectional-data-flow-architecture">Unidirectional data flow architecture</a></h1>
      
        <time datetime="2014-05-15 23:18:00 -0600 CST">15 May 2014</time>
      
    </header>
    <p>Since Facebook released <a href="https://facebook.github.io/react/docs/flux-overview.html">Flux</a> there has been a lot of chatter about the unidirectional data flow architecture and how it helps large scale applications be easier to reason about and develop. With the <a href="https://github.com/juju/juju-gui">Juju GUI</a> nearing 70,000 lines of code in the core application we were running into an issue where it was becoming difficult to maintain the correct state throughout the many rendered UI components which are being consistently changed from the user interactions and changes coming in over the websocket from the users <a href="https://jujucharms.com">Juju</a> environment.</p>

<p>In an effort to remedy this we determined that the only way to solve our current issues and prevent new ones going forward is to develop a unidirectional data flow architecture vs our MVC event style system which was currently in place. The execution flow we decided on was as follows:</p>

<p><img src="/images/unidirectional-data-flow-architecture-1.jpg" alt="" /></p>

<ol>
<li>When a user visits a url or a delta comes in over the websocket it is parsed and split into disparate sections of state for each component that’s involved.</li>
<li>That state is then saved into the state system.</li>
<li>When the state system changes it diffs from it’s previous state and passes the diff off to the dispatcher.</li>
<li>The dispatcher scans through the diff and passes off the various state components to their registered handlers.</li>
<li>Those handlers then pass the updated data into the UI components.</li>
<li>The UI components are then responsible for updating their DOM representation.</li>
<li>If the user makes a change to the UI, that UI component requests a change from the state system and the cycle repeats.
You’ll notice that this is strikingly similar to the Flux architecture:</li>
</ol>

<p><img src="/images/unidirectional-data-flow-architecture-2.png" alt="" /></p>

<p>It’s great to see cases of the <a href="https://en.wikipedia.org/wiki/Multiple_discovery">multiple discovery hypothesis</a> in action. It’s a sign that you’re on the right track for solving the bigger picture problems. It’s also nice to see someone formalizing this architecture for client side applications in the hopes that others will be able to skip these scalability problems. While our implementation differs from Flux, the architecture is nearly identical. I highly recommend this architecture to anyone writing a large complex application of any kind, client or server side, as it dramatically reduces the complexity of the applications execution.</p>

<p>Do you work on a large application? Do you think this architecture could help simplify your app? Let me know in the comments below, <a href="https://twitter.com/fromanegg">@fromanegg</a>, or <a href="https://plus.google.com/+JeffPihach">+Jeff Pihach</a> Thanks for reading!</p>

  </article>
</section>

  
    <section class="article-list">
  <article>
    <header>
      <h1><a href="https://fromanegg.com/post/2014/04/25/when-to-update-your-semver-version-number">When to update your semver version number</a></h1>
      
        <time datetime="2014-04-25 10:49:00 -0600 CST">25 April 2014</time>
      
    </header>
    <p>Anyone who is familiar with package versioning has used, or at the very least heard of, Semantic Versioning. For the uninitiated, semver is a three part version number in the format MAJOR.MINOR.PATCH ex) 1.13.2, and you can find very in-depth details on the <a href="http://semver.org/">semver website</a>.</p>

<p>The semver website outlines the rules for incrementing version numbers as:</p>

<ul>
<li>MAJOR: When you make incompatible API changes.</li>
<li>MINOR: When you add functionality in a backwards-compatible manner.</li>
<li>PATCH: When you make backwards compatible bug fixes.
At <a href="https://gophercon.com/">gophercon</a> I had a discussion with another engineer about what these mean. When does a change make the API incompatible with a previous release? Take the following contrived example:</li>
</ul>

<p>Your API typically returns a key/value pair for a requested field:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="err">‘</span><span class="nx">bar</span><span class="err">’</span> <span class="p">}</span>
</code></pre></div>

<p>But now you decide to change the value returned by capitalizing the first character in the returned strings:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="err">‘</span><span class="nx">Bar</span><span class="err">’</span> <span class="p">}</span>
</code></pre></div>

<p>What portion of the version should be updated with this change?</p>

<ul>
<li>MAJOR: It could break someones code who is relying on the case of the returned value.</li>
<li>MINOR: This is adding functionality because the value being returned is actually a title for a story.</li>
<li>PATCH: Stories should always have been capitalized so this is actually a bug fix.
This shows that the rules are up for a lot of interpretation and will depend heavily on your situation. This unfortunately doesn’t make it easier to explain to someone who is new to, or skeptical of, semver. As a solution I came up with a slightly more specific set of rules which I think make the decision much easier for everyone.</li>
</ul>

<p>Jeff’s semver incrementing version number rules:</p>

<p>I inverted the rule set so it can be read that any later rule overwrites the previous rule so the version section moves up a level.</p>

<ul>
<li>If this is fixing a reported bug in your system: PATCH</li>
<li>If this is adding a feature to your public or private api: MINOR</li>
<li>If this is a change to your private methods or data structures: MINOR</li>
<li>If it broke your public api call tests: MAJOR
Because your tests should test exactly what you expect your public API to return it should be very trivial to know when a change is breaking what others could be relying on.</li>
</ul>

<p>What do you think of this approach? Do you find it any easier to understand? Do you have any other rules to add? Or are you already using semver and have a different approach to deciding when to increase which number? Comment below or mention me on twitter <a href="https://twitter.com/FromAnEgg">@fromanegg</a> and let me know. Thanks for reading!</p>

  </article>
</section>

  
  
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        class="active"><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        ><a href="/page/6/">6</a></li>
        
        <li
        ><a href="/page/7/">7</a></li>
        
        <li
        ><a href="/page/8/">8</a></li>
        
        <li
        ><a href="/page/9/">9</a></li>
        
        <li
        ><a href="/page/10/">10</a></li>
        
        <li
        ><a href="/page/11/">11</a></li>
        
        <li
        ><a href="/page/12/">12</a></li>
        
        <li
        ><a href="/page/13/">13</a></li>
        
        <li
        >
        <a href="/page/3/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/13/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28934249-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
