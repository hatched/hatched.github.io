<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
      <title>From An Egg</title>
      <meta name="twitter:title" content="From An Egg" />
      <meta property="og:title" content="From An Egg" />
    
    <link rel="icon" type="image/png" alt="author's image" href="/images/me.png">
    
      <meta name="description" itemprop="description" content="Jeff Pihach on all things programming.">
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@fromanegg" />
    <meta name="twitter:image" content="https://fromanegg.com/images/me.png" />

    <meta property="og:url" content="https://fromanegg.com/" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://fromanegg.com/images/me.png" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#cc181e">
    <meta name="generator" content="Hugo 0.22.1" />
    <link rel="canonical" href="https://fromanegg.com/"/>
    <link rel="stylesheet" href="/css/normalize-min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/manni.css">
    <link href="/rss" rel="alternate" type="application/rss+xml" title="From An Egg" />
  </head>
  <body>
    <div class="top-bar"></div>

  <nav>
  <img src="/images/me.png"></img>
  <h1 itemprop="author">Jeff Pihach</h1>
  <label for="menu-toggle" class="icon-menu">Menu</label>
  <input type="checkbox" id="menu-toggle"/>
  <div class="nav-wrapper">
    <ul>
      <li class=" active "><a href="/" class="icon-home">Home</a></li>
      <li class=""><a rel="author" href="/about" class="icon-help">About</a></li>
      <li class=""><a href="/posts" class="icon-box">Posts</a></li>
      <li class=""><a href="/projects" class="icon-cubes">Projects</a></li>
      <li class="">
        <label for="tags-toggle">
          <span class="icon-tag">Tags</span>
          <span class="icon-down-dir arrow"></span>
        </label>
        <input type="checkbox" id="tags-toggle"/>
        <ul class="tag-list">
          
          
            <li><a href="/tags/android">android</a></li>
          
            <li><a href="/tags/book-review">book-review</a></li>
          
            <li><a href="/tags/cordova">cordova</a></li>
          
            <li><a href="/tags/css">css</a></li>
          
            <li><a href="/tags/development">development</a></li>
          
            <li><a href="/tags/go">go</a></li>
          
            <li><a href="/tags/hatched-links">hatched-links</a></li>
          
            <li><a href="/tags/html">html</a></li>
          
            <li><a href="/tags/javascript">javascript</a></li>
          
            <li><a href="/tags/juju">juju</a></li>
          
            <li><a href="/tags/juju-gui">juju-gui</a></li>
          
            <li><a href="/tags/linux">linux</a></li>
          
            <li><a href="/tags/node.js">node.js</a></li>
          
            <li><a href="/tags/ops">ops</a></li>
          
            <li><a href="/tags/osx">osx</a></li>
          
            <li><a href="/tags/phonegap">phonegap</a></li>
          
            <li><a href="/tags/testing">testing</a></li>
          
            <li><a href="/tags/ubuntu">ubuntu</a></li>
          
            <li><a href="/tags/video">video</a></li>
          
            <li><a href="/tags/yui">yui</a></li>
          
        </ul>
      </li>
      <li><a href="https://fromanegg.com/rss.xml" class="icon-rss">RSS</a></li>
    </ul>
    <hr></hr>
    <h3>Social</h3>
    <ul class="social-list">
      <li><a href="https://github.com/hatched" class="icon-github" target="_blank">GitHub</a></li>
      <li><a href="https://twitter.com/fromanegg" class="icon-twitter" target="_blank">Twitter</a></li>
      <li><a href="https://www.youtube.com/channel/UCq2MDZ8IWAV0Jyp6FuwoJXA" class="icon-youtube-play" target="_blank">YouTube</a></li>
      <li><a href="https://plus.google.com/+JeffPihach" class="icon-google" target="_blank" rel="me">Google</a></li>
      <li><a href="http://stackexchange.com/users/3378894" class="icon-stackoverflow" target="_blank">StackExchange</a></li>
    </ul>
  </div>
</nav>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2014/06/17/new-release-juju-gui-1-1-0/" itemprop="url">New Release - Juju GUI 1.1.0</a></h1>
      
        <time pubdate content="2014-06-17 13:23:00 -0600 CST" datetime="2014-06-17 13:23:00 -0600 CST">17 June 2014</time>
      
    </header>
    <p>Last week we released a new version of the Juju GUI which brings with it one major UI change plus a huge refactoring of the application state system.</p>

<p><img src="/images/new-release-juju-gui-1-1-0-1.png" alt="" /></p>

<ul>
<li>We moved the inspectors default rendering position to the left over top of the charm browser to give you more room to work with your active environment.</li>
<li>A new <a href="http://fromanegg.com/post/85890866087/unidirectional-data-flow-architecture">uni-directional data flow</a> system was implemented which dramatically simplified the GUI’s data flow and execution.</li>
<li>Charm searching has been improved in the charm browser and will continue to be improved over time.</li>
<li>Work for the new machine view continues under the ‘mv’ flag. To check out this work load up the GUI with ’<hostname>:flags:/mv’.</li>
<li>Plus many many fixes. See the <a href="https://github.com/juju/juju-gui">repository</a> for more information.</li>
</ul>

<p>If you have any questions about Juju or the Juju GUI, you can read the <a href="https://jujucharms.com">official documentation</a> for Juju and join us on freenode.net in #juju and #juju-gui</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2014/05/15/unidirectional-data-flow-architecture/" itemprop="url">Unidirectional data flow architecture</a></h1>
      
        <time pubdate content="2014-05-15 23:18:00 -0600 CST" datetime="2014-05-15 23:18:00 -0600 CST">15 May 2014</time>
      
    </header>
    <p>Since Facebook released <a href="https://facebook.github.io/react/docs/flux-overview.html">Flux</a> there has been a lot of chatter about the unidirectional data flow architecture and how it helps large scale applications be easier to reason about and develop. With the <a href="https://github.com/juju/juju-gui">Juju GUI</a> nearing 70,000 lines of code in the core application we were running into an issue where it was becoming difficult to maintain the correct state throughout the many rendered UI components which are being consistently changed from the user interactions and changes coming in over the websocket from the users <a href="https://jujucharms.com">Juju</a> environment.</p>

<p>In an effort to remedy this we determined that the only way to solve our current issues and prevent new ones going forward is to develop a unidirectional data flow architecture vs our MVC event style system which was currently in place. The execution flow we decided on was as follows:</p>

<p><img src="/images/unidirectional-data-flow-architecture-1.jpg" alt="" /></p>

<ol>
<li>When a user visits a url or a delta comes in over the websocket it is parsed and split into disparate sections of state for each component that’s involved.</li>
<li>That state is then saved into the state system.</li>
<li>When the state system changes it diffs from it’s previous state and passes the diff off to the dispatcher.</li>
<li>The dispatcher scans through the diff and passes off the various state components to their registered handlers.</li>
<li>Those handlers then pass the updated data into the UI components.</li>
<li>The UI components are then responsible for updating their DOM representation.</li>
<li>If the user makes a change to the UI, that UI component requests a change from the state system and the cycle repeats.
You’ll notice that this is strikingly similar to the Flux architecture:</li>
</ol>

<p><img src="/images/unidirectional-data-flow-architecture-2.png" alt="" /></p>

<p>It’s great to see cases of the <a href="https://en.wikipedia.org/wiki/Multiple_discovery">multiple discovery hypothesis</a> in action. It’s a sign that you’re on the right track for solving the bigger picture problems. It’s also nice to see someone formalizing this architecture for client side applications in the hopes that others will be able to skip these scalability problems. While our implementation differs from Flux, the architecture is nearly identical. I highly recommend this architecture to anyone writing a large complex application of any kind, client or server side, as it dramatically reduces the complexity of the applications execution.</p>

<p>Do you work on a large application? Do you think this architecture could help simplify your app? Let me know in the comments below, <a href="https://twitter.com/fromanegg">@fromanegg</a>, or <a href="https://plus.google.com/+JeffPihach">+Jeff Pihach</a> Thanks for reading!</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2014/04/25/when-to-update-your-semver-version-number/" itemprop="url">When to update your semver version number</a></h1>
      
        <time pubdate content="2014-04-25 10:49:00 -0600 CST" datetime="2014-04-25 10:49:00 -0600 CST">25 April 2014</time>
      
    </header>
    <p>Anyone who is familiar with package versioning has used, or at the very least heard of, Semantic Versioning. For the uninitiated, semver is a three part version number in the format MAJOR.MINOR.PATCH ex) 1.13.2, and you can find very in-depth details on the <a href="http://semver.org/">semver website</a>.</p>

<p>The semver website outlines the rules for incrementing version numbers as:</p>

<ul>
<li>MAJOR: When you make incompatible API changes.</li>
<li>MINOR: When you add functionality in a backwards-compatible manner.</li>
<li>PATCH: When you make backwards compatible bug fixes.
At <a href="https://gophercon.com/">gophercon</a> I had a discussion with another engineer about what these mean. When does a change make the API incompatible with a previous release? Take the following contrived example:</li>
</ul>

<p>Your API typically returns a key/value pair for a requested field:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="err">‘</span><span class="nx">bar</span><span class="err">’</span> <span class="p">}</span>
</code></pre></div>

<p>But now you decide to change the value returned by capitalizing the first character in the returned strings:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="err">‘</span><span class="nx">Bar</span><span class="err">’</span> <span class="p">}</span>
</code></pre></div>

<p>What portion of the version should be updated with this change?</p>

<ul>
<li>MAJOR: It could break someones code who is relying on the case of the returned value.</li>
<li>MINOR: This is adding functionality because the value being returned is actually a title for a story.</li>
<li>PATCH: Stories should always have been capitalized so this is actually a bug fix.
This shows that the rules are up for a lot of interpretation and will depend heavily on your situation. This unfortunately doesn’t make it easier to explain to someone who is new to, or skeptical of, semver. As a solution I came up with a slightly more specific set of rules which I think make the decision much easier for everyone.</li>
</ul>

<p>Jeff’s semver incrementing version number rules:</p>

<p>I inverted the rule set so it can be read that any later rule overwrites the previous rule so the version section moves up a level.</p>

<ul>
<li>If this is fixing a reported bug in your system: PATCH</li>
<li>If this is adding a feature to your public or private api: MINOR</li>
<li>If this is a change to your private methods or data structures: MINOR</li>
<li>If it broke your public api call tests: MAJOR
Because your tests should test exactly what you expect your public API to return it should be very trivial to know when a change is breaking what others could be relying on.</li>
</ul>

<p>What do you think of this approach? Do you find it any easier to understand? Do you have any other rules to add? Or are you already using semver and have a different approach to deciding when to increase which number? Comment below or mention me on twitter <a href="https://twitter.com/FromAnEgg">@fromanegg</a> and let me know. Thanks for reading!</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2014/04/09/how-to-install-ubuntu-on-a-mac-or-macbook/" itemprop="url">How to install Ubuntu on a Mac or Macbook</a></h1>
      
        <time pubdate content="2014-04-09 20:09:00 -0600 CST" datetime="2014-04-09 20:09:00 -0600 CST">9 April 2014</time>
      
    </header>
    

<p>The official release date of <a href="http://www.ubuntu.com/download/desktop">Ubuntu 14.04 LTS Trusty Tahr</a> is coming up in just over a week from the time of writing. With that, many of you are going to want to install the next version of the best Linux operating system on your computers, and if you want to install on metal along side OSX and have a Apple Mac or Macbook this is the guide for you!</p>

<p>You’re going to need a few things before we get started:</p>

<ul>
<li>Download Ubuntu 14.04 LTS Trusty Tahr. (If you’re here before it’s released you can download the <a href="http://cdimage.ubuntu.com/daily-live/current/">daily image here</a>. Be sure you download the iso which does NOT have ’+mac’ in the filename. This is for older Apple computers.</li>
<li>Download the <a href="http://www.rodsbooks.com/refind/">rEFInd Boot Manager</a>. You want the <a href="http://www.rodsbooks.com/refind/getting.html">Binary source file zip</a> which you need to extract.</li>
<li>A 2GB or bigger USB stick which has nothing on it that you don’t care to lose. This will be our boot stick…(remember when they were boot disks?)</li>
<li>A thunderbolt to ethernet adapter or if your machine has an ethernet port, plug it in. After installing Ubuntu it is unlikely you will have wifi until the final step.</li>
<li>Your computers hard drive should have a big chunk of free space…you’re going to use this as your primary operating system afterall!</li>
<li>An hour or so of free time. This took me about 30 minutes from start to finish but I had done it a number of times by the time I created this post.</li>
</ul>

<h4 id="obligatory-warning">Obligatory Warning</h4>

<p>All of this information is provided without warranty of any kind. Always make and keep proper backups of your data.</p>

<h4 id="step-1">Step 1</h4>

<h4 id="backup-your-computer">BACKUP YOUR COMPUTER</h4>

<p>While it’s unlikely that an issue will occur which wipes the data on your disk it’s always highly advisable to have a couple quality backups just in case.</p>

<p>Go make another backup…I’ll wait.</p>

<h4 id="did-you-back-up-your-data-yet">DID YOU BACK UP YOUR DATA YET?</h4>

<h4 id="step-2">Step 2</h4>

<p>Now that you have a quality backup safely tucked away you will need to install rEFInd. Open the terminal and navigate to the location that you extracted the zip file and then follow the <a href="http://www.rodsbooks.com/refind/installing.html#installsh">installation instructions for OSX</a>. Once completed, restart your computer to confirm that rEFInd was installed correctly. On rebooting, the rEFInd boot loader should load up and you should select the Apple logo to get back into OSX. (sorry for the sub par photos)</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-1.jpg" alt="" /></p>

<h4 id="step-3">Step 3</h4>

<p>Now that you’re back in OSX we need to take that iso of Ubuntu 14.04 that you downloaded and make a bootable USB stick. Follow the <a href="http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-mac-osx">10 steps outlined here</a> to create the bootable stick. You’ll know when it’s ready because OSX will pop open a dialogue saying that it cannot read the device.</p>

<h4 id="step-4">Step 4</h4>

<p>You need a place to put Ubuntu on your computer, so you’ll need to create a partition on your hard drive. The size of this partition will depend on the size of your disk and what you plan to do in Ubuntu, but it should be at least 10GB to give you some wiggle room (mine is 100GB). To do so you will use the OSX tool ‘Disk Utility’. There are some dated, but still accurate instructions on <a href="https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation#Manual_partitioning_using_Disk_Utility_GUI">creating this partition here</a>.</p>

<h4 id="step-5">Step 5</h4>

<p>With the partition made it’s now time to stick the USB stick into your computer and reboot. After rebooting you should land on the rEFInd boot loader again with a few more options than before. If you do not see these options then reboot again holding the “option” key.</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-2.jpg" alt="" /></p>

<p>Your options may look a little different but you want to pick one of the options which are provided from the USB stick (There are three provided in this image). For the Haswell equipped machines you want to pick the option which reads something along the lines of “Boot EFI\boot\grubx64.efi …” and hit enter. This will start another boot loader with the first option “Install Ubuntu”, hit enter to select this option. After a little while you should be in the Ubuntu installer, follow through the steps until the installer asks you where you would like to install Ubuntu.</p>

<p>Note: If after progressing through the install process and you find that it boots into a black screen start again from Step 5 but choose an installer without “EFI” in the path name.</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-3.jpg" alt="" /></p>

<h4 id="step-6">Step 6</h4>

<p>Note: partitioning will be a little different for everyone so if you get confused hop onto IRC in #ubuntu on freenode.net or create a question on <a href="http://askubuntu.com">http://askubuntu.com</a> for some help.</p>

<p>When you step through the installer you will get to a pane which asks you where you want to install Ubuntu to. The options should be pretty self explanatory. But if there isn’t an option to install Ubuntu into your new partition you will need to take the manual route. Select the manual partition option and you should be shown a screen which looks like:</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-4.jpg" alt="" /></p>

<p>As you can see form this list, I created a 100GB partition originally and then created a 3GB swap partition. To take the partition you created in OSX and create a swap from it you will need to select it then hit the “Change” button and downsize it 3GB. This will leave you with “free space” of 3GB. Click the “+” button and create a new partition of the type “swap”. You’ll want to make sure your primary partition is of type “ext4” and that the mount point is “/”.</p>

<p>Continue on from here installing Ubuntu to your new partition.</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-5.jpg" alt="" /></p>

<h4 id="step-7">Step 7</h4>

<p>After the installation has completed remove the USB stick from your computer and reboot. Now when rEFInd shows up you should have an extra option with the Ubuntu logo. Click it and boot into Ubuntu.</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-6.jpg" alt="" /></p>

<h4 id="step-8">Step 8</h4>

<p>Once you have logged into Ubuntu, click the &lsquo;System Settings’ icon in the launcher bar on the left. Select &lsquo;Software and Updates’ and then select the &lsquo;Additional Drivers’ tab. After this tab loads you should see a proprietary driver for the Broadcom wireless, select it and click &lsquo;Apply’. Reboot the computer and you should now be able to click the network icon in the top right of the desktop to connect to a wireless connection.</p>

<p><img src="/images/how-to-install-ubuntu-on-a-mac-or-macbook-7.jpg" alt="" /></p>

<p>Congratulations you now have Ubuntu installed along side OSX!</p>

<p>If you run into any problems along the way or have any questions your first stop should be your search engine of choice there are thousands of great resources for Ubuntu scattered around on many topics. You will also find a ton of great people in Ubuntu community hanging out in the #ubuntu room on IRC on freenode.net or if you prefer to ask direct detailed questions check out <a href="http://askubuntu.com">http://askubuntu.com</a>. I hope that this guide has helped you get up and running with Ubuntu, please comment below with any questions or comments or I can be found on twitter <a href="https://twitter.com/fromanegg">@fromanegg</a>, thanks for reading!</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2014/03/13/self-documenting-code-is-not-enough/" itemprop="url">Self documenting code is not enough</a></h1>
      
        <time pubdate content="2014-03-13 09:22:00 -0600 CST" datetime="2014-03-13 09:22:00 -0600 CST">13 March 2014</time>
      
    </header>
    <p>Our industry moves so fast that just to stay on the curve, let alone ahead of it, you need to spend a considerable amount of time reading other peoples code. Whether that be in code reviews, gists, or open source projects, you can glean a lot of invaluable information about new technologies, protocols, and techniques.</p>

<p>As an industry as a whole we need to understand this and write all code, even that which at first is not meant for public consumption, as <a href="https://en.wikipedia.org/wiki/Self-documenting_code">self-documenting code</a> with comments which detail, to anyone reading it, the why the code is doing what it’s doing.</p>

<p>Self-documenting code is code which follows commonly accepted style conventions, and uses descriptive variable, and function names. As an example, self-documenting code turns this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">function</span> <span class="nx">gd</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">p1</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>

<p>Into:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">function</span> <span class="nx">getDifference</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span> <span class="nx">point2</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">point1</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>

<p>It’s much easier to understand what the second function is doing at a glance vs the first.</p>

<p>This function is so trivial many will stop here and continue on. But trivial scripts have a way of becoming more, whether they grow into a project of their own or are copy/pasted into much larger projects where their use may not be as clear.</p>

<p>Lets assume for a moment that this function was copy &amp; pasted into a larger projects utility class. Wouldn’t it be nice if it would automatically be added to the API docs?</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="cm">/**</span>
<span class="cm">  Calculate the difference between the x and y coords of two points.</span>

<span class="cm">  @method getDifference</span>
<span class="cm">  @param {Object} point1 The first point to compare.</span>
<span class="cm">  @param {Object} point2 The second point to compare.</span>
<span class="cm">  @return {Array} The difference between the two points in the format [x, y]</span>
<span class="cm">*/</span>
<span class="kd">function</span> <span class="nx">getDifference</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span> <span class="nx">point2</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">point1</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">point2</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>

<p>This function can now be copy and pasted into any project without any ambiguity about it’s functionality and will automatically be included in the API documentation.</p>

<p>To illustrate the importance of inline comments even with self documenting code. Take the following method from the <a href="https://github.com/juju/juju-gui">Juju GUI source</a>.</p>

<p>The Juju GUI has just over 65,000 lines of javascript excluding dependencies and growing fast every day. With so many developers writing code this fast it would be very difficult to understand why things were done the way they were done without the additional 17,000 lines of api comment blocks and inline documentation.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">exportYAML</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">db</span><span class="p">.</span><span class="nx">exportDeployer</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">exportData</span> <span class="o">=</span> <span class="nx">jsyaml</span><span class="p">.</span><span class="nx">dump</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">exportBlob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="nx">exportData</span><span class="p">],</span>
             <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;text/plain;charset=utf-8&#39;</span><span class="p">});</span>
  <span class="nx">saveAs</span><span class="p">(</span><span class="nx">exportBlob</span><span class="p">,</span> <span class="s1">&#39;export.yaml&#39;</span><span class="p">);</span>
<span class="p">},</span>
</code></pre></div>

<p>Using only self-documenting code you would probably be able to figure out that this function extracts some data from a database, converts it into yaml, then saves the blob to disk. Unfortunately this would have taken you at least 4x longer to parse because it doesn’t have any comments. You would also be missing some very important information from a previous bug fix. Now here it is with it’s comments:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="cm">/**</span>
<span class="cm">  Export the YAML for this environment.</span>

<span class="cm">  @method exportYAML</span>
<span class="cm">*/</span>
<span class="nx">exportYAML</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">db</span><span class="p">.</span><span class="nx">exportDeployer</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">exportData</span> <span class="o">=</span> <span class="nx">jsyaml</span><span class="p">.</span><span class="nx">dump</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="c1">// In order to support Safari 7 the type of this blob needs</span>
  <span class="c1">// to be text/plain instead of it&#39;s actual type of application/yaml.</span>
  <span class="kd">var</span> <span class="nx">exportBlob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="nx">exportData</span><span class="p">],</span>
      <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;text/plain;charset=utf-8&#39;</span><span class="p">});</span>
  <span class="nx">saveAs</span><span class="p">(</span><span class="nx">exportBlob</span><span class="p">,</span> <span class="s1">&#39;export.yaml&#39;</span><span class="p">);</span>
<span class="p">},</span>
</code></pre></div>

<p>Without even reading the code you now know what the purpose of this method is which will dramatically reduce time when debugging or adding more features. More importantly however, the why of some of the code is outlined for future-you or another developer who may end up here. Without the comment regarding Safari 7 they very likely could have changed the mime type to application/yaml and introduced a difficult to find bug.</p>

<p>Although these examples were simple I hope I have illustrated the importance of adding comments to your self-documenting code to aid not only future-you but also any other developer who may come by and learn from your work. Thanks for reading! What commenting techniques do you use? Comment below or mention me on twitter <a href="https://twitter.com/fromanegg">@fromanegg</a>.</p>

  </article>
</section>

  
  

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/page/3/">3</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/4/">4</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/14/">14</a></li>
    
    
    <li
    >
    <a href="/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/14/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28934249-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>

