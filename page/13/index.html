<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
      <title>From An Egg</title>
      <meta name="twitter:title" content="From An Egg" />
      <meta property="og:title" content="From An Egg" />
    
    <link rel="icon" type="image/png" alt="author's image" href="/images/me.png">
    
      <meta name="description" itemprop="description" content="Jeff Pihach on all things programming.">
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@fromanegg" />
    <meta name="twitter:image" content="https://fromanegg.com//images/me.png" />

    <meta property="og:url" content="https://fromanegg.com/" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://fromanegg.com//images/me.png" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#cc181e">
    <meta name="generator" content="Hugo 0.17" />
    <link rel="canonical" href="https://fromanegg.com/"/>
    <link rel="stylesheet" href="/css/normalize-min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/manni.css">
    <link href="/rss" rel="alternate" type="application/rss+xml" title="From An Egg" />
  </head>
  <body>
    <div class="top-bar"></div>

  <nav>
  <img src="/images/me.png"></img>
  <h1 itemprop="author">Jeff Pihach</h1>
  <label for="menu-toggle" class="icon-menu">Menu</label>
  <input type="checkbox" id="menu-toggle"/>
  <div class="nav-wrapper">
    <ul>
      <li class=" active "><a href="/" class="icon-home">Home</a></li>
      <li class=""><a rel="author" href="/about" class="icon-help">About</a></li>
      <li class=""><a href="/posts" class="icon-box">Posts</a></li>
      <li class=""><a href="/projects" class="icon-cubes">Projects</a></li>
      <li class="">
        <label for="tags-toggle">
          <span class="icon-tag">Tags</span>
          <span class="icon-down-dir arrow"></span>
        </label>
        <input type="checkbox" id="tags-toggle"/>
        <ul class="tag-list">
          
          
            <li><a href="/tags/android">android (1)</a></li>
          
            <li><a href="/tags/book-review">book-review (1)</a></li>
          
            <li><a href="/tags/cordova">cordova (2)</a></li>
          
            <li><a href="/tags/css">css (6)</a></li>
          
            <li><a href="/tags/development">development (9)</a></li>
          
            <li><a href="/tags/go">go (1)</a></li>
          
            <li><a href="/tags/hatched-links">hatched-links (5)</a></li>
          
            <li><a href="/tags/html">html (1)</a></li>
          
            <li><a href="/tags/javascript">javascript (16)</a></li>
          
            <li><a href="/tags/juju">juju (17)</a></li>
          
            <li><a href="/tags/juju-gui">juju-gui (11)</a></li>
          
            <li><a href="/tags/linux">linux (1)</a></li>
          
            <li><a href="/tags/node.js">node.js (1)</a></li>
          
            <li><a href="/tags/ops">ops (3)</a></li>
          
            <li><a href="/tags/osx">osx (1)</a></li>
          
            <li><a href="/tags/phonegap">phonegap (2)</a></li>
          
            <li><a href="/tags/testing">testing (1)</a></li>
          
            <li><a href="/tags/ubuntu">ubuntu (2)</a></li>
          
            <li><a href="/tags/video">video (2)</a></li>
          
            <li><a href="/tags/yui">yui (11)</a></li>
          
        </ul>
      </li>
      <li><a href="/rss" class="icon-rss">RSS</a></li>
    </ul>
    <hr></hr>
    <h3>Social</h3>
    <ul class="social-list">
      <li><a href="https://github.com/hatched" class="icon-github" target="_blank">GitHub</a></li>
      <li><a href="https://twitter.com/fromanegg" class="icon-twitter" target="_blank">Twitter</a></li>
      <li><a href="https://www.youtube.com/channel/UCq2MDZ8IWAV0Jyp6FuwoJXA" class="icon-youtube-play" target="_blank">YouTube</a></li>
      <li><a href="https://plus.google.com/+JeffPihach" class="icon-google" target="_blank" rel="me">Google</a></li>
      <li><a href="http://stackexchange.com/users/3378894" class="icon-stackoverflow" target="_blank">StackExchange</a></li>
    </ul>
  </div>
</nav>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2012/04/12/yui-popup-calendar" itemprop="url">YUI Popup Calendar</a></h1>
      
        <time pubdate content="2012-04-12 19:22:00 -0600 CST" datetime="2012-04-12 19:22:00 -0600 CST">12 April 2012</time>
      
    </header>
    <p>The often requested Popup Calendar or as some may call it, Date Picker, is now finally available in the Yahoo CDN hosted YUI Gallery!</p>

<p>The YUI Popup Calendar component extends YUI’s Calendar Widget as well as a few other Widget modules you likely have already loaded on the page giving you a very lightweight (1.6KB minified) way to add date picker like functionality to your web page or application.</p>

<p>Additional details, examples, and more can be found by following the links below. I hope that you find this module helpful and I’ll continue to develop on it so please feel free to contact me with bug reports and feature requests.</p>

<ul>
<li><a href="http://fromanegg.com/code/yui-popup-calendar">YUI Popup Calendar documentation</a></li>
<li><a href="http://yuilibrary.com/gallery-archive/gallery/show/popup-calendar.html?">YUI Popup Calendar on YUI Gallery</a></li>
</ul>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2012/02/26/how-to-make-a-nodejs-static-file-server-part-1" itemprop="url">How to make a Node.js static file server - Part 1</a></h1>
      
        <time pubdate content="2012-02-26 19:19:00 -0600 CST" datetime="2012-02-26 19:19:00 -0600 CST">26 February 2012</time>
      
    </header>
    

<p>This multi-part series will take you through everything from how to get a basic Node.js static file server going, to different way’s to deliver the content to the user, common pitfalls, caching, and when to use Node.js to serve files vs other solutions.</p>

<p>I’m going to assume you already have Node.js up running on your computer and that you know javascript. This code was developed on v0.6.1-pre and I will make an effort to update it and the version number as things change with Node.js.</p>

<p>First thing your going to do is create a new file which will house our server code.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>touch server.js
</code></pre></div>

<p>There are a few native Node.js modules that we’ll need and a few more will be added as this series continues.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">),</span>
    <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">),</span>
    <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">),</span>
    <span class="nx">util</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;util&#39;</span><span class="p">);</span>
</code></pre></div>

<p>We are pulling in the following modules:
- <a href="https://nodejs.org/docs/latest/api/http.html">HTTP</a>: Low level API that handles the parsing of streams and handling of the HTTP messages.
- <a href="https://nodejs.org/docs/latest/api/path.html">Path</a>: A string manipulation library, also allows you to check the file system for the existence of a file.
- <a href="https://nodejs.org/docs/latest/api/fs.html">File System</a>: Provides simple wrappers around standard POSIX functions for file IO.
- <a href="https://nodejs.org/docs/latest/api/util.html">Utilities</a>: Extra utility features.</p>

<h3 id="create-the-server">Create the server</h3>

<p>Within the scope of this part of the tutorial we only need to access the HTTP module once for its <a href="https://nodejs.org/docs/latest/api/http.html#http.createServer">createServer()</a> method. We create a HTTP server which calls the <code>_handler</code> callback when a <a href="https://nodejs.org/docs/latest/api/http.html#event_request_">request event</a> is made and start listening on a specified port.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">_handler</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Server running at http://127.0.0.1:3000/&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Now set up the request handler which will house all of the code that handles each and every request that comes into your server. We’ll also define some variables which we’ll use later.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">function</span> <span class="nx">_handler</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nx">contentType</span> <span class="o">=</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
        <span class="nx">filePath</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

        <span class="c1">//All following code goes here</span>
<span class="p">}</span>
</code></pre></div>

<p>Because this is strictly a file server we only want to support the GET method and reject any other requests. To do this we need to reference the request object passed to our callback, an instance of <a href="https://nodejs.org/docs/latest/api/http.html#http.ServerRequest">http.ServerRequest</a> stored in <code>req</code></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span> <span class="o">!==</span> <span class="s1">&#39;GET&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//If the request method doesn&#39;t equal &#39;GET&#39;</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">405</span><span class="p">);</span> <span class="c1">//Write the HTTP status to the response head</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Unsupported request method&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">);</span> <span class="c1">//End and send the response</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>On most web servers when you send a request to the server without a file you will get some type of default file usually the index.html. Because this is a file server, if they aren’t requesting a file, they are going to get an error. After we determine that they are requesting a file we do simple string concatenation to build the file path and then pass it to the <a href="https://nodejs.org/docs/latest/api/path.html#path.exists">path.exists()</a> method. This method will test the file path for existence and then pass that information to the callback, <code>serveRequestedFile</code> in this case.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">if</span> <span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span> <span class="o">!==</span> <span class="s1">&#39;./&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">filePath</span> <span class="o">=</span> <span class="nx">root</span> <span class="o">+</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
    <span class="nx">path</span><span class="p">.</span><span class="nx">exists</span><span class="p">(</span><span class="nx">filePath</span><span class="p">,</span> <span class="nx">serveRequestedFile</span><span class="p">);</span>		
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">400</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;A file must be requested&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Stream your files</p>

<p>Now that we have set up the http server, verified that they are using the correct method, and that they are requesting a file, we need to serve that file to them. To do this we will use our previously mentioned <code>serveRequestedFile()</code> function which will receive the status of our file inquiry which we need to test before proceeding.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">function</span> <span class="nx">serveRequestedFile</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">file</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">404</span><span class="p">);</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//Following code will go here</span>

<span class="p">}</span>
</code></pre></div>

<p>Because we aren’t implementing any caching mechanism yet we don’t want to read the whole file into memory before serving. To get around that we use the File System’s <a href="https://nodejs.org/docs/latest/api/fs.html#fs.createReadStream">fs.createReadStrem()</a> method. This method returns a <a href="https://nodejs.org/docs/latest/api/streams.html#readable_Stream">Readable Stream</a> which emits a number of events. We will set up an error event handler in the event there is a server error and the file cannot be served to the user.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">filePath</span><span class="p">);</span>

<span class="nx">stream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<p>Before we send the data to the user we should set the files mime type. For simplicity sake I have included the mime object within the function itself. On a true file server you would likely import a much larger mime list.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">var</span> <span class="nx">mimeTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;.js&#39;</span> <span class="o">:</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">,</span>
    <span class="s1">&#39;.css&#39;</span> <span class="o">:</span> <span class="s1">&#39;text/css&#39;</span><span class="p">,</span>
    <span class="s1">&#39;.gif&#39;</span> <span class="o">:</span> <span class="s1">&#39;image/gif&#39;</span>
<span class="p">}</span>

<span class="nx">contentType</span> <span class="o">=</span> <span class="nx">mimeTypes</span><span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">extname</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)];</span>
</code></pre></div>

<p>We have now verified that the file exists, created a stream instance for the file in question, set up basic error handling, and found the files mime type. The only thing left is to actually send the file to the user. We first set the content type and the status in he header then use Utilities <a href="https://nodejs.org/docs/latest/api/util.html#util.pump">util.pump()</a> method to push the previously initiated stream to the user. The pump method reads the data from the readable stream <code>stream</code> and sends it to the writable stream <code>res</code>. If there is an error in this process or the stream is closed the third arugment, the callback, is called.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="nx">contentType</span><span class="p">);</span>
<span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>

<span class="nx">util</span><span class="p">.</span><span class="nx">pump</span><span class="p">(</span><span class="nx">stream</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//Only called when the res is closed or an error occurs</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<p>Start the server and start serving files!</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>node server.js
</code></pre></div>

<p>I hope you enjoyed the first part of this series and were able to get your own file server up and running. I have included a <a href="https://gist.github.com/hatched/1920353">working example</a> of the above code if you want to see it in its entirety. If you need further help feel free to comment below, mention me on <a href="https://twitter.com/fromanegg">twitter</a>, or join #Node.js on irc.freenode.net.</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2012/02/06/handling-module-load-errors-with-yui-loader" itemprop="url">Handling module load errors with YUI Loader</a></h1>
      
        <time pubdate content="2012-02-06 15:50:00 -0600 CST" datetime="2012-02-06 15:50:00 -0600 CST">6 February 2012</time>
      
    </header>
    <p>This information is accurate for YUI 3.5.0pr2 - there are cross browser issues with the following method on previous versions.</p>

<p>From time to time you may find yourself loading modules that aren’t available. Whether it be from a user supplied modules list or an unreliable source, the YUI instance confg gives you an easy way to check if there are any errors while loading your modules.</p>

<p>A common YUI config and use statement would look like the following.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;custom-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/module.js&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;custom-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Your code here</span>
<span class="p">});</span>
</code></pre></div>

<p>If for some reason the loader was unable to fetch a required module and you wanted to act on that event, the loader provides you with an onFailure method that is called with an object that has details about the modules it failed to fetch.</p>

<p>To use this method you would amend the above code to include that method.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;custom-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/module.js&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  	<span class="c1">// Error handling code</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;custom-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Your code here</span>
<span class="p">});</span>
</code></pre></div>

<p>The error object is structured.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nb">Array</span><span class="p">[],</span> <span class="c1">// Contains a list of the requested modules</span>
  <span class="nx">msg</span><span class="o">:</span> <span class="s2">&quot;Failed to load path/to/module&quot;</span><span class="p">,</span> <span class="c1">// A string error message</span>
  <span class="nx">success</span><span class="o">:</span> <span class="kc">false</span> <span class="c1">// A bool representation of the success of the requests</span>
<span class="p">}</span>
</code></pre></div>

<p>It’s that simple, by setting up your onFailure callback you can easily handle any errors that may arise by an improperly structured config or use statement.</p>

<p>Warning</p>

<p>If there is a failure in your initial module request the onFailure callback will be called before the Y instance is set-up. This means that no YUI methods will be available and calls to them will cause your application to fail. In this case the this property will point to YUI.</p>

<p>More Reading</p>

<p>In the following example the onFailure callback will be called if at any time there is a failure while trying to load modules. You will need to keep this in mind if your doing any lazy loading of modules so that you can appropriately handle the errors.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;good-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;correct/path/to/good-module.js&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;bad-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/bad-module&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  	<span class="c1">// I&#39;m going to be called when the request for bad-module is made</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;good-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">Y</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;bad-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  	<span class="c1">// More code here</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>

<p>The error.msg property string will contain comma delimited messages about which values failed.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;wrong-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/wrong-module&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;bad-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/bad-module&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;wrong-module&#39;</span><span class="p">,</span> <span class="s1">&#39;bad-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code here</span>
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nb">Array</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
  <span class="nx">msg</span><span class="o">:</span> <span class="s2">&quot;Failed to load path/to/wrong-module,Failed to load path/to/bad-module&quot;</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>

<p>This method only works if the module has been defined. You will not receive an error for the crazy-module.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;wrong-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/wrong-module&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;wrong-module&#39;</span><span class="p">,</span> <span class="s1">&#39;crazy-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code here</span>
<span class="p">});</span>
</code></pre></div>

<p>You will however get a string error logged to the console in addition to the onFailure if the undefined module comes before the defined custom modules.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">YUI</span><span class="p">({</span>
  <span class="nx">modules</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// Define your custom module meta data</span>
    <span class="s1">&#39;wrong-module&#39;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">fullpath</span><span class="o">:</span> <span class="s1">&#39;path/to/wrong-module&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;crazy-module&#39;</span><span class="p">,</span> <span class="s1">&#39;wrong-module&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code here</span>
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="s2">&quot;yui: NOT loaded: crazy-module&quot;</span>
</code></pre></div>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/post/2012/02/03/introduction" itemprop="url">Introduction</a></h1>
      
        <time pubdate content="2012-02-03 20:43:00 -0600 CST" datetime="2012-02-03 20:43:00 -0600 CST">3 February 2012</time>
      
    </header>
    <p>After a year of trying to get the time to roll my own blog I cut my losses and set up with tumblr. The plan is to write a quality article every week on web development but you will probably see an odd one here and there about other things that I find interesting.</p>

<p>I hope you enjoy the things to come and I look forward to your comments.</p>

<p>-Jeff Pihach</p>

  </article>
</section>

  
    <section class="article-list">
  <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1><a href="https://fromanegg.com/yui-popup-calendar/" itemprop="url"></a></h1>
      
    </header>
    

<h2 id="yui-popup-calendar">YUI Popup Calendar</h2>

<p>The YUI Popup Calendar component extends YUI’s Calendar Widget as well as a few other Widget modules you likely have already loaded on the page giving you a very lightweight (1.6KB minified) way to add date picker like functionality to your web page or application.</p>

<p>You can find the code via Github here: <a href="https://github.com/hatched/yui3-gallery/tree/master/src/gallery-popup-calendar">YUI Gallery fork</a></p>

<h4 id="how-to-use">How to use</h4>

<p>Almost all of the configuration properties for Y.PopupCalendar are for Y.Calendar and the other modules that it extends.</p>

<ul>
<li><a href="http://yuilibrary.com/yui/docs/calendar/">Calendar</a></li>
<li><a href="http://yuilibrary.com/yui/docs/api/classes/WidgetPosition.html">Widget Position</a></li>
<li><a href="http://yuilibrary.com/yui/docs/api/classes/WidgetPositionAlign.html">Widget Position Align</a></li>
<li><a href="http://yuilibrary.com/yui/docs/api/classes/WidgetAutohide.html">Widget Autohide</a></li>
</ul>

<h4 id="html">HTML</h4>
<div class="highlight"><pre><code class="language-HTML" data-lang="HTML"><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;yui3-skin-sam&quot;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">autocomplete</span><span class="o">=</span><span class="s">&quot;off&quot;</span><span class="p">/&gt;</span>
	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;date&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">autocomplete</span><span class="o">=</span><span class="s">&quot;off&quot;</span><span class="p">/&gt;</span>
	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;phone&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">autocomplete</span><span class="o">=</span><span class="s">&quot;off&quot;</span><span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>

<h4 id="css">CSS</h4>

<p>In order to style this calendar like the YUI default calendar you need to add the class .yui3-skin-sam to a parent container of the calendar.</p>

<p>To have the calendar positioned overtop of other contents on your page and to hide when you click away the following two classes need to be added to your css</p>
<div class="highlight"><pre><code class="language-CSS" data-lang="CSS"><span></span><span class="nc">.yui3-popup-calendar</span> <span class="p">{</span>
  <span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.yui3-popup-calendar-hidden</span> <span class="p">{</span>
  <span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="javascript">Javascript</h4>
<div class="highlight"><pre><code class="language-JavaScript" data-lang="JavaScript"><span></span><span class="nx">YUI</span><span class="p">().</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;popup-calendar&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Y</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span>  <span class="nx">Y</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;form input[name=date]&#39;</span><span class="p">),</span>
      <span class="nx">popupcalendar</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">PopupCalendar</span><span class="p">({</span>
    <span class="c1">// Popup Calendar config properties</span>
    <span class="c1">// input: the text input that will trigger</span>
    <span class="c1">// the calendar to show</span>
    <span class="nx">input</span><span class="o">:</span> <span class="nx">input</span><span class="p">,</span>

    <span class="c1">// focus the calendar on input focus for</span>
    <span class="c1">// keyboard control (default is false)</span>
    <span class="nx">autoFocusOnFieldFocus</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// depending on the browser you may  </span>
    <span class="c1">// need to have all tabindex&#39;s defined on</span>
    <span class="c1">// inputs, you can use this attribute to do</span>
    <span class="c1">// it so you don&#39;t have to (default is false);</span>
    <span class="c1">// doesn&#39;t specify the tabindex then this is required</span>
    <span class="nx">autoTabIndexFormElements</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// Calendar config properties</span>
    <span class="nx">width</span><span class="o">:</span><span class="s1">&#39;400px&#39;</span><span class="p">,</span>
    <span class="nx">showPrevMonth</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">showNextMonth</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">date</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span>

    <span class="c1">// Widget Position Align configuration properties</span>
    <span class="c1">// This is now optional and defaults to the following</span>
    <span class="nx">align</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">node</span><span class="o">:</span> <span class="nx">input</span><span class="p">,</span>
        <span class="nx">points</span><span class="o">:</span> <span class="p">[</span><span class="nx">Y</span><span class="p">.</span><span class="nx">WidgetPositionAlign</span><span class="p">.</span><span class="nx">TL</span><span class="p">,</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">WidgetPositionAlign</span><span class="p">.</span><span class="nx">TR</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="c1">// The popup calendar makes no assumptions as to</span>
  <span class="c1">// what you want to do with the selected date</span>
  <span class="c1">// so it is up to you to do something with the emitted event.</span>
  <span class="nx">popupcalendar</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;dateSelected&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">newSelection</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">popupcalendar</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">());</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>

<h4 id="repositioning-the-calendar-on-resize">Repositioning the calendar on resize</h4>

<p>If the user resizes the browser once the calendar is open they run the risk of covering it up. To remedy this, you simply need to interact with widget-position-align on resize</p>
<div class="highlight"><pre><code class="language-JavaScript" data-lang="JavaScript"><span></span><span class="nx">Y</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// Use the resize event object `e` and the position of the</span>
  <span class="c1">// bounding box popupcalendar.get(&#39;boundingBox&#39;); to</span>
  <span class="c1">// check if the calendar is outside of the viewport</span>
  <span class="c1">// use that calculation to determine the points to set the</span>
  <span class="c1">// new alignment points to</span>

  <span class="c1">// Change the points that the calendar aligns with</span>
  <span class="nx">popupcalendar</span><span class="p">.</span><span class="nx">align</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">node</span><span class="o">:</span> <span class="nx">input</span><span class="p">,</span>
    <span class="nx">points</span><span class="o">:</span> <span class="p">[</span><span class="nx">Y</span><span class="p">.</span><span class="nx">WidgetPositionAlign</span><span class="p">.</span><span class="nx">TL</span><span class="p">,</span> <span class="nx">Y</span><span class="p">.</span><span class="nx">WidgetPositionAlign</span><span class="p">.</span><span class="nx">BR</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h4 id="known-bugs">Known Bugs</h4>

<p>Opera in Ubuntu (possibly other os’s as well) has an odd keyboard navigation highlighting alignment issue with the Calendar. The calendar is still functional albeit a little odd to navigate via keyboard.</p>

<p>Hitting enter when navigating the calendar by keyboard does not select a date in IE7 &amp; IE8</p>

  </article>
</section>

  
  
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/12/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        ><a href="/page/6/">6</a></li>
        
        <li
        ><a href="/page/7/">7</a></li>
        
        <li
        ><a href="/page/8/">8</a></li>
        
        <li
        ><a href="/page/9/">9</a></li>
        
        <li
        ><a href="/page/10/">10</a></li>
        
        <li
        ><a href="/page/11/">11</a></li>
        
        <li
        ><a href="/page/12/">12</a></li>
        
        <li
        class="active"><a href="/page/13/">13</a></li>
        
        <li
        ><a href="/page/14/">14</a></li>
        
        <li
        >
        <a href="/page/14/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/14/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28934249-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>

